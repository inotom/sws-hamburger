(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var isUndefined = require('./isUndefined');
var isNull = require('./isNull');

/**
 * exist value.
 * value is not undefined and null.
 *
 * @param {*} val check value.
 * @return {Boolean}
 */
module.exports = function(val) {
  return !isUndefined(val) && !isNull(val);
};

},{"./isNull":2,"./isUndefined":3}],2:[function(require,module,exports){
/**
 * check null value
 *
 * @param {*} val check value.
 * @return {Boolean}
 */
module.exports = function(val) {
  return val === null;
};

},{}],3:[function(require,module,exports){
/**
 * check value is undefined.
 *
 * @param {*} val checked value.
 * @return {Boolean}
 */
module.exports = function(val) {
  return typeof val === 'undefined';
};

},{}],4:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _existy = require('swsutils/src/existy');

var _existy2 = _interopRequireDefault(_existy);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (el, key, orig) {
  if ((0, _existy2.default)(el) && el.hasAttribute(key)) {
    return el.getAttribute(key);
  }
  return orig;
};

},{"swsutils/src/existy":1}],5:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _existy = require('swsutils/src/existy');

var _existy2 = _interopRequireDefault(_existy);

var _attr = require('./attr.js');

var _attr2 = _interopRequireDefault(_attr);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = function (el) {
  var size = parseInt((0, _attr2.default)(el, 'data-sws-hamburger-size', 50), 10);
  var weight = parseInt((0, _attr2.default)(el, 'data-sws-hamburger-weight', 3), 10);
  var bgColor = (0, _attr2.default)(el, 'data-sws-hamburger-bg-color', '#ffc966');
  var fgColor = (0, _attr2.default)(el, 'data-sws-hamburger-fg-color', '#ffffff');
  var image = (0, _attr2.default)(el, 'data-sws-hamburger-src', null);

  var bgImage = (0, _existy2.default)(image) ? 'url(' + image + ')' : 'none';

  return '\n#sws-hamburger {\n  overflow: hidden;\n  position: relative;\n  width: ' + size + 'px;\n  height: ' + size + 'px;\n  color: ' + fgColor + ';\n  background-color: ' + bgColor + ';\n}\n#sws-hamburger > .sws-hamburger-line {\n  display: inline-block;\n  position: absolute;\n  left: 20%;\n  width: 60%;\n  height: ' + weight + 'px;\n  background-color: ' + fgColor + ';\n  cursor: pointer;\n  transition: all .4s ease-out 0s;\n}\n#sws-hamburger > .sws-hamburger-line:nth-child(1) {\n  top: 20%;\n  transform: none;\n}\n#sws-hamburger > .sws-hamburger-line:nth-child(2) {\n  top: ' + (size / 2 - weight / 2) + 'px;\n  transform: scale(1);\n}\n#sws-hamburger > .sws-hamburger-line:nth-child(3) {\n  bottom: 20%;\n  transform: none;\n}\n#sws-hamburger.sws-hamburger-handle-is-active > .sws-hamburger-line:nth-child(1) {\n  top: ' + (50 - weight / size * 100 / 2) + '%;\n  transform: rotate(405deg) scale(1.2);\n}\n#sws-hamburger.sws-hamburger-handle-is-active > .sws-hamburger-line:nth-child(2) {\n  transform: scale(0);\n}\n#sws-hamburger.sws-hamburger-handle-is-active > .sws-hamburger-line:nth-child(3) {\n  bottom: ' + (50 - weight / size * 100 / 2) + '%;\n  transform: rotate(-405deg) scale(1.2);\n}\n#sws-hamburger > .sws-hamburger-image {\n  display: block;\n  position: relative;\n  width: ' + size + 'px;\n  height: ' + size + 'px;\n  background: transparent ' + bgImage + ' no-repeat 50% 50%;\n  background-size: 100% 100%;\n}\n';
};

},{"./attr.js":4,"swsutils/src/existy":1}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _attr = require('./attr.js');

var _attr2 = _interopRequireDefault(_attr);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var isMobile = function isMobile(el) {
  var width = (0, _attr2.default)(el, 'data-sws-hamburger-mobile-width', 640);
  if (parseInt(width, 10) === 0) {
    return false;
  }
  return window.matchMedia('(max-width: ' + width + 'px)').matches;
};

exports.default = function (el) {
  var display = 'none';
  if (isMobile(el)) {
    display = 'block';
  }
  el.style.display = display;
};

},{"./attr.js":4}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _existy = require('swsutils/src/existy');

var _existy2 = _interopRequireDefault(_existy);

var _attr = require('./attr.js');

var _attr2 = _interopRequireDefault(_attr);

var _css = require('./css.js');

var _css2 = _interopRequireDefault(_css);

var _display = require('./display.js');

var _display2 = _interopRequireDefault(_display);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var KEY_ENTER = 13;

var ACTIVE_BODY_CLASS_NAME = 'sws-hamburger-is-active';
var ACTIVE_CLASS_NAME = 'sws-hamburger-handle-is-active';

exports.default = function () {

  var elSwsHamburger = document.getElementById('sws-hamburger');

  if ((0, _existy2.default)(elSwsHamburger)) {

    var elStyle = document.createElement('STYLE');
    elStyle.textContent = (0, _css2.default)(elSwsHamburger);
    document.head.appendChild(elStyle);

    var image = (0, _attr2.default)(elSwsHamburger, 'data-sws-hamburger-src', null);

    if ((0, _existy2.default)(image)) {
      var elBgImage = document.createElement('DIV');
      elBgImage.classList.add('sws-hamburger-image');
      elSwsHamburger.appendChild(elBgImage);
    } else {
      for (var i = 0; i < 3; i++) {
        var elLine = document.createElement('SPAN');
        elLine.classList.add('sws-hamburger-line');
        elSwsHamburger.appendChild(elLine);
      }
    }

    elSwsHamburger.addEventListener('click', function (e) {
      e.preventDefault();
      var method = elSwsHamburger.classList.contains(ACTIVE_CLASS_NAME) ? 'remove' : 'add';
      elSwsHamburger.classList[method](ACTIVE_CLASS_NAME);
      document.body.classList[method](ACTIVE_BODY_CLASS_NAME);
    }, false);

    elSwsHamburger.addEventListener('keydown', function (e) {
      e.preventDefault();
      if (e.keyCode === KEY_ENTER) {
        var method = elSwsHamburger.classList.contains(ACTIVE_CLASS_NAME) ? 'remove' : 'add';
        elSwsHamburger.classList[method](ACTIVE_CLASS_NAME);
        document.body.classList[method](ACTIVE_BODY_CLASS_NAME);
      }
    }, false);

    window.addEventListener('resize', function () {
      (0, _display2.default)(elSwsHamburger);
    }, false);
    (0, _display2.default)(elSwsHamburger);
  }
};

},{"./attr.js":4,"./css.js":5,"./display.js":6,"swsutils/src/existy":1}],8:[function(require,module,exports){
'use strict';

var _index = require('./index.js');

var _index2 = _interopRequireDefault(_index);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

window.addEventListener('DOMContentLoaded', _index2.default, false);

},{"./index.js":7}]},{},[8])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvc3dzdXRpbHMvc3JjL2V4aXN0eS5qcyIsIm5vZGVfbW9kdWxlcy9zd3N1dGlscy9zcmMvaXNOdWxsLmpzIiwibm9kZV9tb2R1bGVzL3N3c3V0aWxzL3NyYy9pc1VuZGVmaW5lZC5qcyIsInNyYy9hdHRyLmpzIiwic3JjL2Nzcy5qcyIsInNyYy9kaXNwbGF5LmpzIiwic3JjL2luZGV4LmpzIiwic3JjL3N3cy1oYW1idXJnZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ2JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ1RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7OztBQ1RBOzs7Ozs7a0JBRWUsVUFBQyxFQUFELEVBQUssR0FBTCxFQUFVLElBQVYsRUFBbUI7QUFDaEMsTUFBSSxzQkFBTyxFQUFQLEtBQWMsR0FBRyxZQUFILENBQWdCLEdBQWhCLENBQWxCLEVBQXdDO0FBQ3RDLFdBQU8sR0FBRyxZQUFILENBQWdCLEdBQWhCLENBQVA7QUFDRDtBQUNELFNBQU8sSUFBUDtBQUNELEM7Ozs7Ozs7OztBQ1BEOzs7O0FBQ0E7Ozs7OztrQkFFZSxVQUFDLEVBQUQsRUFBUTtBQUNyQixNQUFJLE9BQVUsU0FBUyxvQkFBSyxFQUFMLEVBQVMseUJBQVQsRUFBb0MsRUFBcEMsQ0FBVCxFQUFrRCxFQUFsRCxDQUFkO0FBQ0EsTUFBSSxTQUFVLFNBQVMsb0JBQUssRUFBTCxFQUFTLDJCQUFULEVBQXNDLENBQXRDLENBQVQsRUFBbUQsRUFBbkQsQ0FBZDtBQUNBLE1BQUksVUFBVSxvQkFBSyxFQUFMLEVBQVMsNkJBQVQsRUFBd0MsU0FBeEMs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LGdCQUFmLENBQWdDLFNBQWhDLEVBQTJDLFVBQUMsQ0FBRCxFQUFPO0FBQ2hELFFBQUUsY0FBRjtBQUNBLFVBQUksRUFBRSxPQUFGLEtBQWMsU0FBbEIsRUFBNkI7QUFDM0IsWUFBSSxTQUFTLGVBQWUsU0FBZixDQUF5QixRQUF6QixDQUFrQyxpQkFBbEMsSUFBdUQsUUFBdkQsR0FBa0UsS0FBL0U7QUFDQSx1QkFBZSxTQUFmLENBQXlCLE1BQXpCLEVBQWlDLGlCQUFqQztBQUNBLGlCQUFTLElBQVQsQ0FBYyxTQUFkLENBQXdCLE1BQXhCLEVBQWdDLHNCQUFoQztBQUNEO0FBQ0YsS0FQRCxFQU9HLEtBUEg7O0FBU0EsV0FBTyxnQkFBUCxDQUF3QixRQUF4QixFQUFrQyxZQUFNO0FBQ3RDLDZCQUFRLGNBQVI7QUFDRCxLQUZELEVBRUcsS0FGSDtBQUdBLDJCQUFRLGNBQVI7QUFDRDtBQUNGLEM7Ozs7O0FDdkREOzs7Ozs7QUFFQSxPQUFPLGdCQUFQLENBQXdCLGtCQUF4QixtQkFBa0QsS0FBbEQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIGlzVW5kZWZpbmVkID0gcmVxdWlyZSgnLi9pc1VuZGVmaW5lZCcpO1xudmFyIGlzTnVsbCA9IHJlcXVpcmUoJy4vaXNOdWxsJyk7XG5cbi8qKlxuICogZXhpc3QgdmFsdWUuXG4gKiB2YWx1ZSBpcyBub3QgdW5kZWZpbmVkIGFuZCBudWxsLlxuICpcbiAqIEBwYXJhbSB7Kn0gdmFsIGNoZWNrIHZhbHVlLlxuICogQHJldHVybiB7Qm9vbGVhbn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuICFpc1VuZGVmaW5lZCh2YWwpICYmICFpc051bGwodmFsKTtcbn07XG4iLCIvKipcbiAqIGNoZWNrIG51bGwgdmFsdWVcbiAqXG4gKiBAcGFyYW0geyp9IHZhbCBjaGVjayB2YWx1ZS5cbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiB2YWwgPT09IG51bGw7XG59O1xuIiwiLyoqXG4gKiBjaGVjayB2YWx1ZSBpcyB1bmRlZmluZWQuXG4gKlxuICogQHBhcmFtIHsqfSB2YWwgY2hlY2tlZCB2YWx1ZS5cbiAqIEByZXR1cm4ge0Jvb2xlYW59XG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsID09PSAndW5kZWZpbmVkJztcbn07XG4iLCJpbXBvcnQgZXhpc3R5IGZyb20gJ3N3c3V0aWxzL3NyYy9leGlzdHknO1xuXG5leHBvcnQgZGVmYXVsdCAoZWwsIGtleSwgb3JpZykgPT4ge1xuICBpZiAoZXhpc3R5KGVsKSAmJiBlbC5oYXNBdHRyaWJ1dGUoa2V5KSkge1xuICAgIHJldHVybiBlbC5nZXRBdHRyaWJ1dGUoa2V5KTtcbiAgfVxuICByZXR1cm4gb3JpZztcbn07XG4iLCJpbXBvcnQgZXhpc3R5IGZyb20gJ3N3c3V0aWxzL3NyYy9leGlzdHknO1xuaW1wb3J0IGF0dHIgZnJvbSAnLi9hdHRyLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgKGVsKSA9PiB7XG4gIGxldCBzaXplICAgID0gcGFyc2VJbnQoYXR0cihlbCwgJ2RhdGEtc3dzLWhhbWJ1cmdlci1zaXplJywgNTApLCAxMCk7XG4gIGxldCB3ZWlnaHQgID0gcGFyc2VJbnQoYXR0cihlbCwgJ2RhdGEtc3dzLWhhbWJ1cmdlci13ZWlnaHQnLCAzKSwgMTApO1xuICBsZXQgYmdDb2xvciA9IGF0dHIoZWwsICdkYXRhLXN3cy1oYW1idXJnZXItYmctY29sb3InLCAnI2ZmYzk2NicpO1xuICBsZXQgZmdDb2xvciA9IGF0dHIoZWwsICdkYXRhLXN3cy1oYW1idXJnZXItZmctY29sb3InLCAnI2ZmZmZmZicpO1xuICBsZXQgaW1hZ2UgICA9IGF0dHIoZWwsICdkYXRhLXN3cy1oYW1idXJnZXItc3JjJywgbnVsbCk7XG5cbiAgbGV0IGJnSW1hZ2UgPSBleGlzdHkoaW1hZ2UpID8gYHVybCgke2ltYWdlfSlgIDogJ25vbmUnO1xuXG4gIHJldHVybiBgXG4jc3dzLWhhbWJ1cmdlciB7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6ICR7c2l6ZX1weDtcbiAgaGVpZ2h0OiAke3NpemV9cHg7XG4gIGNvbG9yOiAke2ZnQ29sb3J9O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAke2JnQ29sb3J9O1xufVxuI3N3cy1oYW1idXJnZXIgPiAuc3dzLWhhbWJ1cmdlci1saW5lIHtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDIwJTtcbiAgd2lkdGg6IDYwJTtcbiAgaGVpZ2h0OiAke3dlaWdodH1weDtcbiAgYmFja2dyb3VuZC1jb2xvcjogJHtmZ0NvbG9yfTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uOiBhbGwgLjRzIGVhc2Utb3V0IDBzO1xufVxuI3N3cy1oYW1idXJnZXIgPiAuc3dzLWhhbWJ1cmdlci1saW5lOm50aC1jaGlsZCgxKSB7XG4gIHRvcDogMjAlO1xuICB0cmFuc2Zvcm06IG5vbmU7XG59XG4jc3dzLWhhbWJ1cmdlciA+IC5zd3MtaGFtYnVyZ2VyLWxpbmU6bnRoLWNoaWxkKDIpIHtcbiAgdG9wOiAkeyhzaXplIC8gMikgLSAod2VpZ2h0IC8gMil9cHg7XG4gIHRyYW5zZm9ybTogc2NhbGUoMSk7XG59XG4jc3dzLWhhbWJ1cmdlciA+IC5zd3MtaGFtYnVyZ2VyLWxpbmU6bnRoLWNoaWxkKDMpIHtcbiAgYm90dG9tOiAyMCU7XG4gIHRyYW5zZm9ybTogbm9uZTtcbn1cbiNzd3MtaGFtYnVyZ2VyLnN3cy1oYW1idXJnZXItaGFuZGxlLWlzLWFjdGl2ZSA+IC5zd3MtaGFtYnVyZ2VyLWxpbmU6bnRoLWNoaWxkKDEpIHtcbiAgdG9wOiAkezUwIC0gKCh3ZWlnaHQgLyBzaXplICogMTAwKSAvIDIpfSU7XG4gIHRyYW5zZm9ybTogcm90YXRlKDQwNWRlZykgc2NhbGUoMS4yKTtcbn1cbiNzd3MtaGFtYnVyZ2VyLnN3cy1oYW1idXJnZXItaGFuZGxlLWlzLWFjdGl2ZSA+IC5zd3MtaGFtYnVyZ2VyLWxpbmU6bnRoLWNoaWxkKDIpIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgwKTtcbn1cbiNzd3MtaGFtYnVyZ2VyLnN3cy1oYW1idXJnZXItaGFuZGxlLWlzLWFjdGl2ZSA+IC5zd3MtaGFtYnVyZ2VyLWxpbmU6bnRoLWNoaWxkKDMpIHtcbiAgYm90dG9tOiAkezUwIC0gKCh3ZWlnaHQgLyBzaXplICogMTAwKSAvIDIpfSU7XG4gIHRyYW5zZm9ybTogcm90YXRlKC00MDVkZWcpIHNjYWxlKDEuMik7XG59XG4jc3dzLWhhbWJ1cmdlciA+IC5zd3MtaGFtYnVyZ2VyLWltYWdlIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgd2lkdGg6ICR7c2l6ZX1weDtcbiAgaGVpZ2h0OiAke3NpemV9cHg7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50ICR7YmdJbWFnZX0gbm8tcmVwZWF0IDUwJSA1MCU7XG4gIGJhY2tncm91bmQtc2l6ZTogMTAwJSAxMDAlO1xufVxuYDtcbn07XG4iLCJpbXBvcnQgYXR0ciBmcm9tICcuL2F0dHIuanMnO1xuXG5jb25zdCBpc01vYmlsZSA9IChlbCkgPT4ge1xuICBsZXQgd2lkdGggID0gYXR0cihlbCwgJ2RhdGEtc3dzLWhhbWJ1cmdlci1tb2JpbGUtd2lkdGgnLCA2NDApO1xuICBpZiAocGFyc2VJbnQod2lkdGgsIDEwKSA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEoJyhtYXgtd2lkdGg6ICcgKyB3aWR0aCArICdweCknKS5tYXRjaGVzO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgKGVsKSA9PiB7XG4gIGxldCBkaXNwbGF5ID0gJ25vbmUnO1xuICBpZiAoaXNNb2JpbGUoZWwpKSB7XG4gICAgZGlzcGxheSA9ICdibG9jayc7XG4gIH1cbiAgZWwuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXk7XG59O1xuIiwiaW1wb3J0IGV4aXN0eSBmcm9tICdzd3N1dGlscy9zcmMvZXhpc3R5JztcbmltcG9ydCBhdHRyIGZyb20gJy4vYXR0ci5qcyc7XG5pbXBvcnQgY3NzIGZyb20gJy4vY3NzLmpzJztcbmltcG9ydCBkaXNwbGF5IGZyb20gJy4vZGlzcGxheS5qcyc7XG5cbmNvbnN0IEtFWV9FTlRFUiA9IDEzO1xuXG5jb25zdCBBQ1RJVkVfQk9EWV9DTEFTU19OQU1FID0gJ3N3cy1oYW1idXJnZXItaXMtYWN0aXZlJztcbmNvbnN0IEFDVElWRV9DTEFTU19OQU1FID0gJ3N3cy1oYW1idXJnZXItaGFuZGxlLWlzLWFjdGl2ZSc7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcblxuICBjb25zdCBlbFN3c0hhbWJ1cmdlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzd3MtaGFtYnVyZ2VyJyk7XG5cbiAgaWYgKGV4aXN0eShlbFN3c0hhbWJ1cmdlcikpIHtcblxuICAgIGxldCBlbFN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnU1RZTEUnKTtcbiAgICBlbFN0eWxlLnRleHRDb250ZW50ID0gY3NzKGVsU3dzSGFtYnVyZ2VyKTtcbiAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKGVsU3R5bGUpO1xuXG4gICAgbGV0IGltYWdlICAgPSBhdHRyKGVsU3dzSGFtYnVyZ2VyLCAnZGF0YS1zd3MtaGFtYnVyZ2VyLXNyYycsIG51bGwpO1xuXG4gICAgaWYgKGV4aXN0eShpbWFnZSkpIHtcbiAgICAgIGxldCBlbEJnSW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKTtcbiAgICAgIGVsQmdJbWFnZS5jbGFzc0xpc3QuYWRkKCdzd3MtaGFtYnVyZ2VyLWltYWdlJyk7XG4gICAgICBlbFN3c0hhbWJ1cmdlci5hcHBlbmRDaGlsZChlbEJnSW1hZ2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICBsZXQgZWxMaW5lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnU1BBTicpO1xuICAgICAgICBlbExpbmUuY2xhc3NMaXN0LmFkZCgnc3dzLWhhbWJ1cmdlci1saW5lJyk7XG4gICAgICAgIGVsU3dzSGFtYnVyZ2VyLmFwcGVuZENoaWxkKGVsTGluZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZWxTd3NIYW1idXJnZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgbGV0IG1ldGhvZCA9IGVsU3dzSGFtYnVyZ2VyLmNsYXNzTGlzdC5jb250YWlucyhBQ1RJVkVfQ0xBU1NfTkFNRSkgPyAncmVtb3ZlJyA6ICdhZGQnO1xuICAgICAgZWxTd3NIYW1idXJnZXIuY2xhc3NMaXN0W21ldGhvZF0oQUNUSVZFX0NMQVNTX05BTUUpO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3RbbWV0aG9kXShBQ1RJVkVfQk9EWV9DTEFTU19OQU1FKTtcbiAgICB9LCBmYWxzZSk7XG5cbiAgICBlbFN3c0hhbWJ1cmdlci5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChlLmtleUNvZGUgPT09IEtFWV9FTlRFUikge1xuICAgICAgICBsZXQgbWV0aG9kID0gZWxTd3NIYW1idXJnZXIuY2xhc3NMaXN0LmNvbnRhaW5zKEFDVElWRV9DTEFTU19OQU1FKSA/ICdyZW1vdmUnIDogJ2FkZCc7XG4gICAgICAgIGVsU3dzSGFtYnVyZ2VyLmNsYXNzTGlzdFttZXRob2RdKEFDVElWRV9DTEFTU19OQU1FKTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3RbbWV0aG9kXShBQ1RJVkVfQk9EWV9DTEFTU19OQU1FKTtcbiAgICAgIH1cbiAgICB9LCBmYWxzZSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgKCkgPT4ge1xuICAgICAgZGlzcGxheShlbFN3c0hhbWJ1cmdlcik7XG4gICAgfSwgZmFsc2UpO1xuICAgIGRpc3BsYXkoZWxTd3NIYW1idXJnZXIpO1xuICB9XG59O1xuIiwiaW1wb3J0IGluaXQgZnJvbSAnLi9pbmRleC5qcyc7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgaW5pdCwgZmFsc2UpO1xuIl19
